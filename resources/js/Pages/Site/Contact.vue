<template>
<section id="contact">
    <div class="py-4">
        <div class="container mx-auto flex flex-col items-center">
            <!-- Heading -->
            <div class="pb-4 w-full text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-bold text-center">
                Contact
                <svg xmlns="http://www.w3.org/2000/svg" class="w-full h-3 mt-1 block" viewBox="0 0 1213 73">
                <path d="M1212.41 5.51c3.05 12.87-22.36 11.93-30.26 15.68-94.32 20.51-269.09 32.42-365.48 37.51-77.91 3.82-155.66 9.93-233.67 11.67-57.49 2.56-115.05-.19-172.57 1.58-121.28.91-243.17 1.88-363.69-13.33-12.51-2.64-25.8-2.92-37.77-7.45-30.66-21.42 26.02-21.53 38.52-19.26 359.95 29.05 364.68 27.36 638.24 17.85 121-3.78 241.22-19.21 426.76-41.46 4.72-.65 9.18 3.56 8.45 8.36a941.74 941.74 0 0 0 54.29-9.21c9.33-2.33 18.7-4.56 27.95-7.19a7.59 7.59 0 0 1 9.23 5.24Z" fill="#492917"/>
                </svg>
            </div>
            
            <div class="mt-10 flex flex-col md:flex-row items-center justify-center w-full px-4 md:px-8 gap-6">
                <div class="w-full md:w-1/2 font-engraving justify-center md:justify-end opacity-0 animate-fadeIn ">
                    <h3 class=" text-xl md:text-2xl xl:text-3xl xl:text-4xl">Let's get in touch</h3>
                    <h3 class="p-4">Feel free to reach out if you want to discuss projects, collaborations, or just say hello. Iâ€™m always open to new opportunities and conversations!</h3>
                    <div class="w-full p-4 ml-4 border-2 bg-white rounded-2xl">
                        <div class="w-1/2 flex">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-blue-400 rounded-full flex items-center justify-center flex-shrink-0 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail w-6 h-6 text-white"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                                </svg>
                            </div>
                            <div>
                                <div class="text-[#808A80]">Email</div>
                                <label class="">vanrecord1122@gmail.com</label>
                            </div>
                        </div>
                    </div>
                    <div class="w-full p-4 ml-4 mt-4 mb-4 border-2 bg-white rounded-2xl">
                        <div class="w-1/2 flex">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-blue-400 rounded-full flex items-center justify-center flex-shrink-0 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone w-6 h-6 text-white"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                </svg>
                            </div>
                            <div>
                                <div class="text-[#808A80]">Phone</div>
                                <label class="">+855 67474447</label>
                            </div>
                        </div>
                    </div>
                    <div class="w-full p-4 ml-4 border-2 bg-white rounded-2xl">
                        <div class="w-1/2 flex">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-blue-400 rounded-full flex items-center justify-center flex-shrink-0 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin w-6 h-6 text-white">
                                    <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle>
                                </svg>
                            </div>
                            <div>
                                <div class="text-[#808A80]">Address</div>
                                <label class="">Phnom Penh, Cambodia</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="w-full md:w-1/2 flex justify-center md:justify-end opacity-0 animate-fadeIn">
                    <div class="text-card-foreground flex flex-col gap-6 rounded-xl border shadow-sm bg-gradient-to-br from-purple-400 via-purple-400 to-blue-400 backdrop-blur-sm border-white/20 p-8 max-w-md w-full">
                        <h2 class="text-3xl font-bold text-white mb-6">Send Message</h2>
                        <div class="space-y-6">
                            <div>
                                <label for="name" class="block text-white mb-2 font-medium">Your Name</label>
                                <input v-model="form.name" type="text" id="name"  autocomplete="off" placeholder="John Doe" required
                                class="bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-md border px-3 py-2 w-full min-h-32 focus-visible:ring-2 focus-visible:ring-purple-400 outline-none transition"
                                 />
                                <div class="text-red-400">
                                    {{ form?.errors?.name }}
                                </div>
                            </div>
                            <div>
                                <label for="email" class="block text-white mb-2 font-medium">Your Email</label>
                                <input v-model="form.email" type="email" id="email"  autocomplete="off" placeholder="john@example.com" required
                                class="bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-md border px-3 py-2 w-full focus-visible:ring-2 focus-visible:ring-purple-400 outline-none transition" />
                                <div class="text-red-400">
                                    {{ form?.errors?.email }}
                                </div>
                            </div>
                            <div>
                                <label for="message" class="block text-white mb-2 font-medium">Message</label>
                                <textarea v-model="form.message" id="message"  autocomplete="off" placeholder="Tell me about your project..." required
                                    class="bg-white/10 border-white/20 text-white placeholder:text-white/50 rounded-md border px-3 py-2 w-full min-h-32 focus-visible:ring-2 focus-visible:ring-purple-400 outline-none transition">
                                </textarea>
                                <div class="text-red-400">
                                    {{ form?.errors?.message }}
                                </div>
                            </div>
                            <button @click="submit"
                                class="inline-flex items-center justify-center gap-2 rounded-md font-medium shadow-md transition-all duration-200 bg-white text-purple-900 hover:bg-purple-200 focus:ring-2 focus:ring-purple-400 focus:ring-offset-2 w-full py-3 text-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send w-5 h-5 mr-2">
                                <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"></path>
                                <path d="m21.854 2.147-10.94 10.939"></path>
                                </svg>
                                Send Message
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>  
</section>
</template>

<script>
import {
    defineComponent
} from 'vue'
import {
    isDark,
    toggleDarkMode,
} from '@/Composables'
import { useI18n } from "vue-i18n";
import { lang } from "@/Lang";
import { useToast } from 'vue-toastification'
import TextInput from '@/Components/TextInput.vue';
import TextareaInput from '@/Components/TextareaInput.vue';

export default defineComponent({
    props: {
        
    },
    components: {
        TextInput,
        TextareaInput
    },
    setup(){
        const {
            tm
        } = useI18n({
            inheritLocale: true,
            messages: lang
        })
        const toast = useToast()
        return {
            tm,toast
        }
    },
    data() {
        return {
            form: this.$inertia.form({
                _token:this.$page?.props?.csrf_token,
                name:'',
                email:'',
                message : ''

            }),
            showingNavigationDropdown: false,
            isDark: {
                isDark
            }.isDark
        }
    },
    methods:{
        submit(){
            this.form.post(this.route('send-mail'), {
                preserveScroll: true,
                onSuccess: () => {
                    this.form.name = '';
                    this.form.email = '';
                    this.form.message = '';
                    this.toast.success("successfully");
                }
            })
        }
    }
})
</script>
